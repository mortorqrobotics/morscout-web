<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MorScout - Report Team</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700,300,400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Exo+2:100' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/index.css" t class="" ype="text/css">
    <link rel="stylesheet" href="css/team.css" type="text/css">
    <link rel="stylesheet" href="css/report_screen.css" type="text/css">

</head>

<body>

    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">MorScout</a>
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#MorScoutNav" id="toggle-button">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="MorScoutNav">
                <ul class="nav navbar-nav">
                    <li><a href="matches.html" title="List of all matches">All Matches</a></li>
                    <li><a href="teams.html" title="List of all teams">Team List</a></li>
                    <li><a href="settings.html" title="Configure the settings">Settings</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <!-- <li><a href="help.html" title="Need help?">Help</a></li>
                    <li><a href="feedback.html" title="Give team 1515 your feedback!">Feedback</a></li> -->
			<li><a href="http://www.morteam.com"  title="MorTeam Link">MorTeam</a></li>
                    <li><a href="profile.html" title="User Profile">Profile</a></li>
                    <li id="UserDropdown" class="dropdown">
                        <a id="logoutButton" href="login.html">Log out</a>
                    </li>
                </ul>
                <div class='user-search nav navbar-nav'>
                    <input type="text" placeholder="search teammates" class="nav-tbox"></input>
                    <div class="search-drop">
                        <ul class="search-drop-items">
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="report">
        <div class="container-fluid">
            <div id="report-title" class="page-title">
                <h2 class="page-title">Team</h2>
                <h2 class="page-title" id="report-team-num"></h2>
                <h2 id="dash"> - </h2>
                <h2 class="page-title" id="report-team-name"></h2>
            </div>
            <div>
                <h4 class="subtitle" id="team-website"></h4>
                <h4 class="subtitle" id="team-location"></h4>
                <h4 class="subtitle" id="team-school"></h4>
                <h4 class="subtitle" id="team-info"></h4>
            </div>
            <div class="row">
                <div class="col-md-1 col-sm-0 col-xs-0">
                </div>
                <div class="col-md-10 col-sm-12 col-xs-12">
                    <ul id="report-tabs" class="nav nav-tabs" hidden>
                        <li id="scout-tab" class="active"><a href="javascript: void(0);">Scout</a></li>
                        <li id="view-tab"><a href="javascript: void(0);">View Pit Reports</a></li>
                        <li id="viewMatches-tab"><a href="javascript: void(0);">View Match Reports</a></li>
                        <!-- <li id="gallery-tab"><a href="javascript: void(0);">Gallery</a></li> -->
                        <li id="regional-tab"><a href="javascript: void(0);">View Event Awards</a></li>
                        <li id="stats-tab"><a href="javascript: void(0);">View Team Stats</a></li>

                    </ul>
                </div>
                <div class="col-md-1 col-sm-0 col-xs-0">
                </div>
            </div>
            <!-- <div id="scout-form" class="row">
    			<div class="col-md-1 col-sm-0 col-xs-0">
    			</div>
    			<div class="col-md-5 col-sm-6 col-xs-12">
    	  	    	<div class="scout-div">
    	  	    		<h3 class="scout-div-title">General</h3>
    	  	    		<p id="report-text">Drive Train: </p>
    	  	    		<div class="selectdiv" >
    				      <select class="selectboxdiv" id="driveTrain">
    				        <option>choose...</option>
    				        <option value="Mecanum">Mecanum</option>
    				        <option value="Swerve">Swerve</option>
    				        <option value="West Coast">West Coast</option>
    				        <option value="Octocanum">Octocanum</option>
    				        <option value="Slide">Slide</option>
    				        <option value="Crab">Crab</option>
    				        <option value="Other">Other</option>
    				      </select>
    				      <div style="display:inline;" class="out">XCZXCzxcxz</div>
    				  	</div><br/>
    				  	<div class="hidden" id="otherDriveTrain">
    					  	<p id="report-text">Other: </p>
    			  	    	<input id="report-box-large" type="text" class="otherDrive"></input><br/>
    			  	    </div>
    				  	<div class="moveDown">
    		  	    		<p id="report-text">Cycle time (sec): </p>
    		  	    		<input id="report-box-small" type="number" class="cycleTime"></input><br/>
    		  	    		<p id="report-text">Co-op points: </p>
    		  	    		<input id="report-box-small" type="number" class="coopPoints"></input><br/>
    		  	    		<p id="report-text">Speed: </p>
    		  	    		<input id="report-box-small" type="number" class="speed"></input><br/>
    		  	    		<p id="report-text">Max height: </p>
    		  	    		<input id="report-box-small" type="number" class="maxHeight"></input><br/>
    		  	    		<p id="report-text">Field configuration speed (sec): </p>
    		  	    		<input id="report-box-small" type="number" class="configSpeed"></input><br/>
    		  	    		<input class="report-check" type="checkbox" id="bumpers"></input>
    		  	    		<label id="report-text" for="bumpers" class="report-radio-check">Bumpers?</label><br/>
    		  	    	</div>
    	  	    	</div>
    			</div>
    			<div class="col-md-5 col-sm-6 col-xs-12">
    	  	    	<div class="scout-div">
    	  	    		<h3 class="scout-div-title">Manipulators</h3>
    	  	    		<input class="report-check" type="checkbox" id="elevator"></input>
    	  	    		<label id="report-text" for="elevator" class="report-radio-check">Elevator</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="toteGrabber"></input>
    	  	    		<label id="report-text" for="toteGrabber" class="report-radio-check">Tote grabber</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="arm"></input>
    	  	    		<label id="report-text" for="arm" class="report-radio-check">Arm</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="containerGrabber"></input>
    	  	    		<label id="report-text" for="containerGrabber" class="report-radio-check">Container grabber</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="toteHerder"></input>
    	  	    		<label id="report-text" for="toteHerder" class="report-radio-check">Tote herder</label><br/>
    	  	    		<p id="report-text" for="stepGrabber" class="report-radio-check">Step container grabber</p>
    	  	    		<input id="report-box-small" type="number" value="0" class="stepGrabber"></input><br/>
    	  	    		<input class="report-check" type="checkbox" id="toteBinFlipper"></input>
    	  	    		<label id="report-text" for="toteBinFlipper" class="report-radio-check">Tote/bin flipper</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="retainingCage"></input>
    	  	    		<label id="report-text" for="retainingCage" class="report-radio-check">Retaining cage</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="conveyorBelt"></input>
    	  	    		<label id="report-text" for="conveyorBelt" class="report-radio-check">Conveyer belt</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="litterGrabber"></input>
    	  	    		<label id="report-text" for="litterGrabber" class="report-radio-check">Litter grabber</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="humanPlayerTote"></input>
    	  	    		<label id="report-text" for="humanPlayerTote" class="report-radio-check">Human player tote intake</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="humanPlayerLitter"></input>
    	  	    		<label id="report-text" for="humanPlayerLitter" class="report-radio-check">Human player litter intake</label><br/>
    	  	    		<input class="report-check" type="checkbox" id="singleToteStack"></input>
    	  	    		<label id="report-text" for="singleToteStack" class="report-radio-check">Single tote stack</label><br/>
    	  	    	</div>
    	  	    	<div class="submit-match">
    					<button id="submit-match-report" class="button">Submit</button>
    				</div>
    			</div>
    			<div class="col-md-1 col-sm-0 col-xs-0">
    			</div>
    		</div>
    		<div id="view-form" class="row">
    			<div class="col-md-1 col-sm-0 col-xs-0">
    			</div>
    			<div class="col-md-5 col-sm-6 col-xs-12">
    				<div class="scout-div">
    					<h3 class="scout-div-title view-title">General</h3>
    					<table id="view-table">
    						<tr>
    							<td>Drive Train</td>
    							<td id="view-driveTrain">No Info</td>
    						</tr>
    						<tr>
    							<td>Cycle Time (seconds)</td>
    							<td id="view-cycleTime">No Info</td>
    						</tr>
    						<tr>
    							<td>Co-op Points</td>
    							<td id="view-coopPoints">No Info</td>
    						</tr>
    						<tr>
    							<td>Speed</td>
    							<td id="view-speed">No Info</td>
    						</tr>
    						<tr>
    							<td>Max height</td>
    							<td id="view-maxHeight">No Info</td>
    						</tr>
    						<tr>
    							<td>Field config speed (sec)</td>
    							<td id="view-configSpeed">No Info</td>
    						</tr>
    						<tr>
    							<td>Has bumpers</td>
    							<td id="view-bumpers">No Info</td>
    						</tr>
    					</table>
    				</div>
    			</div>
    			<div class="col-md-5 col-sm-6 col-xs-12">
    				<div class="scout-div">
    					<h3 class="scout-div-title view-title">Manipulators</h3>
    					<table id="view-table">
    						<tr>
    							<td>Elevator</td>
    							<td id="view-elevator">No Info</td>
    						</tr>
    						<tr>
    							<td>Tote grabber</td>
    							<td id="view-toteGrabber">No Info</td>
    						</tr>
    						<tr>
    							<td>Arm</td>
    							<td id="view-arm">No Info</td>
    						</tr>
    						<tr>
    							<td>Container grabber</td>
    							<td id="view-containerGrabber">No Info</td>
    						</tr>
    						<tr>
    							<td>Tote herder</td>
    							<td id="view-toteHerder">No Info</td>
    						</tr>
    						<tr>
    							<td>Step container grabber</td>
    							<td id="view-stepGrabber">No Info</td>
    						</tr>
    						<tr>
    							<td>Tote/bin flipper</td>
    							<td id="view-toteBinFlipper">No Info</td>
    						</tr>
    						<tr>
    							<td>Retaining cage</td>
    							<td id="view-retainingCage">No Info</td>
    						</tr>
    						<tr>
    							<td>Conveyor belt</td>
    							<td id="view-conveyorBelt">No Info</td>
    						</tr>
    						<tr>
    							<td>Litter grabber</td>
    							<td id="view-litterGrabber">No Info</td>
    						</tr>
    						<tr>
    							<td>Human player tote intake</td>
    							<td id="view-humanPlayerTote">No Info</td>
    						</tr>
    						<tr>
    							<td>Human player litter intake</td>
    							<td id="view-humanPlayerLitter">No Info</td>
    						</tr>
    						<tr>
    							<td>Single tote stack</td>
    							<td id="view-singleToteStack">No Info</td>
    						</tr>
    					</table>
    				</div>
    			</div>
    			<div class="col-md-1 col-sm-0 col-xs-0">
    			</div>
    		</div>
    	    <div id="viewMatches-form" class="row">
    	    	<div class="col-md-1 col-sm-0 col-xs-0">
    			</div>
    	    	<div class="col-md-10 col-sm-12 col-xs-12">
    	    		<div class="scout-div fixed-col-table" id="view-table">
    	    			<h3 class="scout-div-title view-title fixed-col-table">All Matches for This Team </h3>
    	    			<table class="viewMatchInTeam" id="matchTable">
                -->
            <!-- table inserted here -->
            <!--	</table>
    	    		</div>
    	    	</div>
    	    	<div class="col-md-1 col-sm-0 col-xs-0">
    			</div>
    	    </div> -->

            <div id="form-preview">

            </div>
            <div class="submit-match">
                <button id="submit-match-report" class="button">Submit</button>
            </div>

            <div id="view-pit-reports">

            </div>

            <div id="view-match-reports">
              <h3 class="page-title">All Matches For This Team</h3>
              <div id="match-table-holder">
                <table class="matches-table" id="match-table">
                  <tr id="first-matches-row">
                    <!-- <th>Data Points</th>
                    <th>Match 1</th>
                    <th>Match 2</th>
                    <th>Match 3</th>
                    <th>Match 4</th>
                    <th>Match 5</th>
                    <th>Match 6</th>
                    <th>Match 7</th>
                    <th>Match 8</th>
                    <th>Match 9</th>
                    <th>Match 10</th>
                    <th>Match 11</th>
                    <th>Match 12</th>
                    <th>Match 13</th>
                    <th>Match 14</th>
                    <th>Match 15</th>
                    <th>Match 16</th>
                    <th>Match 17</th>
                    <th>Match 18</th>
                    <th>Match 19</th>
                    <th>Match 20</th> -->
                  </tr>
                  <!-- <tr class="odd-row">
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                  <tr class="odd-row">
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                  <tr class="odd-row">
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                  <tr class="odd-row">
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                  <tr class="odd-row">
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                  <tr class="odd-row">
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr>
                    <td>MovesMovesMovesMovesMovesMoves</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                    <td>True</td>
                  </tr> -->
                </table>
              </div>
            </div>

            <div id="gallery">

            </div>

            <div id="view-regional-results">
                <h3 class="page-title loading-results">Loading...</h3>
                <!-- <table class="matches-table" id="matches-table">
                    <tr>
                        <th>Stat</th>
                        <th>Data Value</th>
                    </tr>
                    <tr class="odd-row">
                        <td>Matches Won</td>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>Matches Lost</td>
                        <td>7</td>
                    </tr>
                    <tr class="odd-row">
                        <td>Points Scored Overall</td>
                        <td>1200</td>
                    </tr>
                </table> -->
            </div>

            <div id="view-team-stats">

            </div>

        </div>
    </div>

    <!-- JAVASCRIPT -->

    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js" type="text/javascript"></script>

    <script>
        function urlGet(url) {
            var index = url.indexOf("?");
            if (!~index) {
                return {};
            } else {
                return parseQS(url.substring(index + 1));
            }
        }
        $(document).ready(function() {
            $("#report-tabs").show();
            data = urlGet(String(location));
            if (data.name != undefined) {
                $('#report-team-num').html(data.team);
                $('#report-team-name').html(data.name);
            } else {
                $('#report-team-num').html(data.team);
                $("#dash").hide();
            }

            getScoutForm("pit");

            $("#submit-match-report").on("click", function(){
                getScoutFormValues("pit");
            });

            loadAllMatchesTable(data.team);

            $.post("/getPastRegionalResults", {teamNumber: data.team}, function(response){
                var awards = JSON.parse(response);
                $(".loading-results").hide();
                var div = $("#view-regional-results");
                div.empty();
                var noAwards = 0;
                for (var event in awards){
                    if (awards[event].length > 0){
                        var table = $(document.createElement("table"));
                        table.addClass("matches-table");
                        var tr = $(document.createElement("tr"));
                        var th = $(document.createElement("th"));
                        th.html(event);
                        tr.append(th);
                        table.append(tr);
                        for (var i = 0; i < awards[event].length; i++){
                            var tr = $(document.createElement("tr"));
                            var td = $(document.createElement("td"));
                            td.html(awards[event][i]);
                            tr.append(td);
                            table.append(tr);
                        }
                        div.append(h3);
                        div.append(table);
                    }
                    else {
                        noAwards++;
                        if (noAwards == Object.keys(awards).length){
                            var h3 = $(document.createElement("h3"));
                            h3.addClass("page-title");
                            h3.html("This team has won no awards this year");
                            div.append(h3);
                        }
                    }
                }
            });

            $.post("/getTeamInfo", {
                teamNumber: data.team
            }, function(response) {
                var data = JSON.parse(response);
                var website = data.website;
                if (website.substring(0, 7) != "http://") website = "http://" + website;
                website = website.replace(/^http:\/\/\//g, "http://");
                var link = $(document.createElement("a"));
                link.attr("href", website);
                link.html(website);
                $("#team-website").append(link);
                $("#team-location").html(data.location);
                $("#team-info").html(data.name);
            });

            $.post("/getTeamPrevEventStats", {
                teamNumber: data.team
            }, function(response) {
                var regionals = JSON.parse(response);
                var statArea = $("#view-team-stats");
                var regionalNames = Object.keys(regionals);
                for (var i = 0; i < regionalNames.length; i++) {
                    var regionalName = regionalNames[i];
                    var regionalStats = regionals[regionalName];
                    var h3 = $(document.createElement("h3"));
                    h3.addClass("page-title");
                    h3.html(regionalName);
                    var table = $(document.createElement("table"));
                    table.addClass("matches-table");
                    var headerTr = $(document.createElement("tr"));
                    var headerTh1 = $(document.createElement("th"));
                    var headerTh2 = $(document.createElement("th"));
                    headerTh1.html("Stat");
                    headerTh2.html("Value");
                    headerTr.append(headerTh1);
                    headerTr.append(headerTh2);
                    table.append(headerTr);
                    var statNames = Object.keys(regionalStats);
                    for (var j = 0; j < statNames.length; j++) {
                        var statName = statNames[j];
                        var tr = $(document.createElement("tr"));
                        if ((j + 1) % 2 != 0) tr.addClass("odd-row");
                        var td1 = $(document.createElement("td"));
                        var td2 = $(document.createElement("td"));
                        td1.html(statName);
                        td2.html(regionalStats[statName]);
                        tr.append(td1);
                        tr.append(td2);
                        table.append(tr);
                    }
                    if (statNames.length != 0){
                        statArea.append(h3);
                        statArea.append(table);
                    }
                }
            });
        });
    </script>

    <script type="text/javascript">
        $('#view-pit-reports').hide();
        $('#view-match-reports').hide();
        $('#gallery').hide();
        $('#view-regional-results').hide();
        $('#view-team-stats').hide();
        $(document).ready(function() {

            $('#view-form').hide();
            $('#viewMatches-form').hide();

            $("select").change(function() {
                var str = "";
                str = $(this).find(":selected").text();
                $(".out").text(str);
                if ($(this).find(':selected').text() == 'Other') {
                    $('#otherDriveTrain').fadeIn(300).removeClass('hidden');
                } else {
                    $('#otherDriveTrain').fadeOut(300)
                    setTimeout(function() {
                        $('#otherDriveTrain').addClass('hidden');
                    }, 300)
                }
            }).trigger('change');


            var scoutLoaded = false;
            var pitLoaded = false;
            var matchLoaded = false;
            var galleryLoaded = false;
            var regionalLoaded = false;
            var statsLoaded = false;


            $('#scout-tab').click(function() {
                $('#view-pit-reports').hide();
                $('#view-match-reports').hide();
                $('#gallery').hide();
                $('#view-regional-results').hide();
                $('#view-team-stats').hide();
                $('#view-tab').removeClass('active');
                $('#viewMatches-tab').removeClass('active');
                $('#gallery-tab').removeClass('active');
                $('#regional-tab').removeClass('active');
                $('#stats-tab').removeClass('active');
                $('#form-preview').show();
                $('.submit-match').show();
                $('#scout-tab').addClass('active');
                if (scoutLoaded == false) { // Ensures that the function is only called once
                    loadPitForm();
                    scoutLoaded = true;
                }
            });
            $('#view-tab').click(function() {
                testConnection(function(exists){
                    if (exists){
                        $.post("/getTeamReports", {teamNumber: data.team, reportContext: "pit"}, function(response){
                            var reports = JSON.parse(response);
                            loadDataViewer("#view-pit-reports", reports);
                        });
                    }
                    else {
                        var allReports = JSON.parse(localStorage.allReports);
                        var relevantReports = [];
                        for (var i  = 0; i < allReports.length; i++){
                            if (allReports[i].team == parseInt(data.team) && allReports[i].context == "pit"){
                                relevantReports.push(allReports[i]);
                            }
                        }
                        loadDataViewer("#view-pit-reports", {yourTeam: relevantReports, otherTeams: []});
                    }
                });
                $('#form-preview').hide();
                $('.submit-match').hide();
                $('#view-match-reports').hide();
                $('#gallery').hide();
                $('#view-regional-results').hide();
                $('#view-team-stats').hide();
                $('#scout-tab').removeClass('active');
                $('#viewMatches-tab').removeClass('active');
                $('#gallery-tab').removeClass('active');
                $('#regional-tab').removeClass('active');
                $('#stats-tab').removeClass('active');
                $('#view-pit-reports').show();
                $('#view-tab').addClass('active');
                if (pitLoaded == false) {
                    loadPitReports();
                    pitLoaded = true;
                }
            });
            $('#viewMatches-tab').click(function() {
                $('#view-pit-reports').hide();
                $('#form-preview').hide();
                $('.submit-match').hide();
                $('#gallery').hide();
                $('#view-regional-results').hide();
                $('#view-team-stats').hide();
                $('#scout-tab').removeClass('active');
                $('#view-tab').removeClass('active');
                $('#gallery-tab').removeClass('active');
                $('#regional-tab').removeClass('active');
                $('#stats-tab').removeClass('active');
                $('#view-match-reports').show();
                $('#viewMatches-tab').addClass('active');
                if (matchLoaded == false) {
                    loadMatchReports();
                    matchLoaded = true;
                }
            });
            $('#gallery-tab').click(function() {
                $('#view-pit-reports').hide();
                $('#view-match-reports').hide();
                $('#form-preview').hide();
                $('.submit-match').hide();
                $('#view-regional-results').hide();
                $('#view-team-stats').hide();
                $('#scout-tab').removeClass('active');
                $('#view-tab').removeClass('active');
                $('#viewMatches-tab').removeClass('active');
                $('#regional-tab').removeClass('active');
                $('#stats-tab').removeClass('active');
                $('#gallery').show();
                $('#gallery-tab').addClass('active');
                if (galleryLoaded == false) {
                    loadGallery();
                    galleryLoaded = true;
                }
            });
            $('#regional-tab').click(function() {
                $('#view-pit-reports').hide();
                $('#view-match-reports').hide();
                $('#gallery').hide();
                $('#form-preview').hide();
                $('.submit-match').hide();
                $('#view-team-stats').hide();
                $('#scout-tab').removeClass('active');
                $('#view-tab').removeClass('active');
                $('#viewMatches-tab').removeClass('active');
                $('#gallery-tab').removeClass('active');
                $('#stats-tab').removeClass('active');
                $('#view-regional-results').show();
                $('#regional-tab').addClass('active');
                if (regionalLoaded == false) {
                    loadRegionalResults();
                    regionalLoaded = true;
                }
            });
            $('#stats-tab').click(function() {
                $('#view-pit-reports').hide();
                $('#view-match-reports').hide();
                $('#gallery').hide();
                $('#view-regional-results').hide();
                $('#form-preview').hide();
                $('.submit-match').hide();
                $('#scout-tab').removeClass('active');
                $('#view-tab').removeClass('active');
                $('#viewMatches-tab').removeClass('active');
                $('#gallery-tab').removeClass('active');
                $('#regional-tab').removeClass('active');
                $('#view-team-stats').show();
                $('#stats-tab').addClass('active');
                if (statsLoaded == false) {
                    loadTeamStats();
                    statsLoaded = true;
                }
            });

            function loadPitForm() {

            }

            function loadPitReports() {

            }

            function loadMatchReports() {

            }

            function loadGallery() {

            }

            function loadRegionalResults() {

            }

            function loadTeamStats() {

            }

            //
            // $('#view-tab').click(function(){
            // 	$('#view-tab').addClass("active");
            // 	$('#scout-tab').removeClass('active');
            // 	$('#viewMatches-tab').removeClass('active');
            // 	$('#scout-form').hide();
            // 	$('#viewMatches-form').hide();
            // 	$('#view-form').show();
            // });
            // $('#scout-tab').click(function(){
            // 	$('#scout-tab').addClass("active");
            // 	$('#view-tab').removeClass('active');
            // 	$('#viewMatches-tab').removeClass('active');
            // 	$('#scout-form').show();
            // 	$("#view-form").hide();
            // 	$('#viewMatches-form').hide();
            // 	$('#submit-match-report').html('Submit');
            // 	$('#submit-match-report').prop('disabled', false);
            // 	$('#submit-match-report').css({"background-color":"orange","color":"black"});
            // });
            // $('#viewMatches-tab').click(function(){
            // 	$('#viewMatches-tab').addClass("active");
            // 	$('#scout-tab').removeClass('active');
            // 	$('#view-tab').removeClass('active');
            // 	$('#viewMatches-form').show();
            // 	$('#view-form').hide();
            // 	$('#scout-form').hide();
            // })

            // $('#submit-match-report').click(function(){
            //
            // )};

        });
    </script>

</body>

</html>
